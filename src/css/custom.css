/* ======  TAILWIND 4  =========================================== */
@import "tailwindcss";
@custom-variant dark (&:is([data-theme="dark"] *));

/* ======  PALETTE ISO  ========================================== */
@theme {
  --color-iso-p: #0f172a; /* primary   */
  --color-iso-s: #f7be16; /* secondary */
  --color-iso-a: #87c4d8; /* accent    */
  --color-iso-white: #d6d0d0; /* accent    */
}

/* ======  SURCHARGES DOCUSAURUS (non gÃ©rÃ©es par TW)  =========== */
.navbar {
  @apply border-b-2 border-iso-s;
}
.footer {
  @apply bg-iso-p text-white text-sm;
}
.footer a:hover {
  @apply text-iso-s;
}

/* ======  SIDEBAR - STYLE BRAINBOARD  =========================== */

/* Structure de base */
.menu {
  @apply flex flex-col overflow-y-auto;
  scroll-behavior: smooth;
}

.menu__list {
  @apply flex flex-col gap-0.5 m-0 p-0;
}

.menu__list-item {
  @apply flex flex-col;
}

/* ====== NIVEAU 1 - Pas d'indentation, pas de bordure ====== */
.menu__list > .menu__list-item {
  @apply mb-2;
}

.menu__list > .menu__list-item > .menu__link {
  @apply font-semibold text-sm p-1.5 pl-3;
}

/* Titre de catÃ©gorie niveau 1 (uppercase, sticky optionnel) */
.theme-doc-sidebar-item-category-level-1
  > .menu__list-item-collapsible
  > .menu__link--sublist {
  @apply font-semibold text-xs uppercase tracking-wide;
}

.theme-doc-sidebar-item-category-level-1 {
  @apply mb-4;
}

/* ====== TOUS LES LIENS - Style de base ====== */
.menu__link {
  @apply relative transition-colors duration-200
         flex flex-row items-center justify-between
         rounded-md p-1.5 pl-3
         text-sm font-normal text-balance
         text-iso-p/70 dark:text-iso-white/70
         hover:bg-iso-s/10 hover:text-iso-p dark:hover:text-iso-white;
}

/* Lien actif - PAR DÃ‰FAUT sans bordure (niveau 1 et 2) */
.menu__link--active {
  @apply bg-iso-s/15 text-iso-p dark:text-iso-s font-semibold;
}

/* Lien actif NIVEAU 3 uniquement - avec bordure gauche */
.menu__list .menu__list .menu__list .menu__link--active {
  @apply border-l-4 border-iso-s;
  padding-left: calc(0.75rem - 4px);
}

/* ====== NIVEAU 2 - Indentation SANS bordure ====== */

/* Premier niveau de sous-menu (niveau 2) */
.menu__list .menu__list {
  @apply flex flex-col gap-0.5
         my-1 pl-0;
  overflow: hidden;
  transition: opacity 0.2s ease, height 0.2s ease;
}

/* ====== NIVEAU 3 - Avec indentation ET bordure ====== */

/* DeuxiÃ¨me niveau de sous-menu (niveau 3) */
.menu__list .menu__list .menu__list {
  @apply flex flex-col gap-0.5
         ml-5 my-2 pl-0
         border-l border-gray-300 dark:border-gray-700;
}

/* Arrondi Ã  gauche dÃ©sactivÃ© pour niveau 3 */
.menu__list .menu__list .menu__list .menu__link {
  @apply rounded-l-none;
}

/* Ligne de connexion horizontale pour niveau 3 */
.menu__list .menu__list .menu__list > .menu__list-item > .menu__link::before {
  content: "";
  @apply absolute inset-y-0 -left-px w-px bg-gray-300 dark:bg-gray-700;
}

/* ====== CHEVRON (collapsible) ====== */
.menu__link--sublist {
  @apply pr-8;
}

.menu__link--sublist::after {
  content: "";
  position: absolute;
  right: 0.375rem;
  top: 50%;
  width: 1.25rem;
  height: 1.25rem;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m9 18 6-6-6-6'/%3E%3C/svg%3E")
    no-repeat center / 1rem;
  opacity: 0.6;
  transition: transform 0.2s ease, opacity 0.2s ease;
  transform: translateY(-50%) rotate(90deg); /* Par dÃ©faut OUVERT */
}

/* Ã‰tat FERMÃ‰ : chevron vers la droite â†’ */
.menu__list-item--collapsed .menu__link--sublist::after {
  transform: translateY(-50%) rotate(0deg);
}

/* Hover */
.menu__link--sublist:hover::after {
  @apply opacity-100;
}

/* ====== ANIMATION COLLAPSE ====== */
.menu__list-item--collapsed > .menu__list {
  @apply opacity-0;
  height: 0;
  margin: 0;
  overflow: hidden;
}

.menu__list-item:not(.menu__list-item--collapsed) > .menu__list {
  @apply opacity-100;
  height: auto;
}

/* ====== DARK MODE ====== */
[data-theme="dark"] .menu__link--sublist::after {
  filter: brightness(1.3);
}

/* ======  CONTENU MARKDOWN  ===================================== */

/* Listes */
.markdown ul,
.markdown ol {
  @apply my-4 pl-6;
}

.markdown ul {
  list-style-type: none;
}

.markdown ul > li {
  @apply relative pl-4 mb-2;
}

.markdown ul > li:before {
  content: "";
  @apply absolute left-0 top-3 w-1.5 h-1.5 rounded-full bg-iso-p dark:bg-iso-s;
}

.markdown ul ul,
.markdown ol ul,
.markdown ul ol,
.markdown ol ol {
  @apply my-2;
}

.markdown ol {
  list-style-type: decimal;
  @apply pl-8;
}

/* Titres */
.markdown h1 {
  @apply text-3xl font-bold text-iso-p mb-6 mt-4;
}

.markdown h2 {
  @apply text-2xl font-semibold text-iso-p mt-8 mb-4;
}

.markdown h3 {
  @apply text-xl font-semibold text-iso-p mt-6 mb-3;
}

.title_kItE {
  @apply text-4xl font-extrabold text-iso-p mb-4;
  position: relative;
  padding-bottom: 0.75rem;
  display: inline-block;
}

.title_kItE::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, var(--color-iso-s), var(--color-iso-a));
  border-radius: 2px;
}

.theme-doc-markdown h1:first-child {
  @apply text-4xl font-extrabold text-iso-p mb-8;
  position: relative;
  padding-bottom: 1rem;
}

.theme-doc-markdown h1:first-child::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 80px;
  height: 4px;
  background: var(--color-iso-s);
  border-radius: 2px;
}

.theme-doc-markdown h2 {
  @apply text-2xl font-semibold text-iso-p mt-10 mb-6;
  border-bottom: 2px solid var(--color-iso-a);
  display: inline-block;
  padding-bottom: 0.5rem;
}

/* Liens */
:root {
  --ifm-link-color: var(--color-iso-p);
  --ifm-link-hover-color: var(--color-iso-s);
  --ifm-link-decoration: none;
  --ifm-link-hover-decoration: none;
  --ifm-breadcrumb-color-active: var(--color-iso-p);
  --ifm-navbar-link-hover-color: var(--color-iso-p);
  --ifm-color-primary: var(--color-iso-s);
}

[data-theme="dark"] {
  --ifm-link-color: var(--color-iso-white);
  --ifm-link-hover-color: var(--color-iso-s);
  --ifm-breadcrumb-color-active: var(--color-iso-white);
  --ifm-navbar-link-hover-color: var(--color-iso-white);
  --ifm-color-primary: var(--color-iso-s);
}

.markdown a {
  @apply font-medium transition-colors;
}

/* Code inline */
.markdown code {
  @apply bg-iso-a/10 text-iso-a px-1 rounded;
}

/* Images */
.theme-doc-markdown img {
  @apply border border-gray-200 rounded-xl shadow-sm my-6 block max-w-full h-auto
         transition-shadow duration-200 ease-in-out
         hover:shadow-md;
}

[data-theme="dark"] .theme-doc-markdown img {
  @apply border-gray-700;
}

/* ======  FIL D'ARIANE (BREADCRUMB)  ============================ */

.breadcrumbsContainer_Z_bl {
  @apply py-3 px-0;
  display: flex;
  align-items: center;
  min-height: 2.5rem;
}

.breadcrumbs {
  @apply flex items-center m-0 p-0 list-none h-full;
  line-height: 1.25;
}

.breadcrumbs__item {
  @apply flex items-center text-sm h-full;
  line-height: inherit;
}

.breadcrumbs__link {
  @apply flex items-center text-iso-p hover:text-iso-s transition-colors h-full;
  padding: 0.25rem 0;
}

.breadcrumbs__item:not(:last-child)::after {
  content: ">" !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 0 8px !important;
  color: var(--color-iso-p) !important;
  opacity: 0.6 !important;
  font-weight: 400 !important;
  transform: none !important;
  background: none !important;
  width: auto !important;
  height: 1em !important;
  line-height: 1 !important;
  border-radius: 0 !important;
  padding: 0 !important;
}

.breadcrumbs__item--active .breadcrumbs__link {
  @apply text-iso-p/70 cursor-default hover:text-iso-p/70 px-2;
  background: rgba(15, 23, 42, 0.05);
  border-radius: 0.25rem;
  transition: all 0.2s ease;
}

.breadcrumbHomeIcon_YNFT {
  @apply w-4 h-4 mr-2;
  flex-shrink: 0;
  transform: translateY(-1px);
}

[data-theme="dark"] .breadcrumbs__link {
  @apply text-iso-white hover:text-iso-s;
}

[data-theme="dark"] .breadcrumbs__item:not(:last-child)::after {
  color: var(--color-iso-white);
}

[data-theme="dark"] .breadcrumbs__item--active .breadcrumbs__link {
  @apply text-iso-white/70 hover:text-iso-white/70;
  background: rgba(255, 255, 255, 0.1);
}

/* ======  CARTES DOCUMENTATION  ================================= */

.docCardListItem_W1sv .cardContainer_fWXF {
  @apply h-full transition-all duration-200 hover:shadow-lg hover:border-iso-s 
         border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden
         bg-white dark:bg-slate-900
         hover:translate-y-[-2px] hover:shadow-[0_10px_15px_-3px_rgba(0,0,0,0.1),0_4px_6px_-2px_rgba(0,0,0,0.05)];
}

.docCardListItem_W1sv .cardTitle_rnsV {
  @apply text-lg font-semibold text-iso-p dark:text-white mb-2;
}

.docCardListItem_W1sv .cardDescription_PWke {
  @apply text-gray-600 dark:text-gray-300 text-sm;
}

[data-theme="dark"] .docCardListItem_W1sv .cardContainer_fWXF {
  @apply bg-slate-900 border-slate-800 shadow-[0_2px_4px_rgba(0,0,0,0.2)];
}

[data-theme="dark"] .docCardListItem_W1sv .cardContainer_fWXF:hover {
  @apply bg-slate-800 border-iso-s shadow-[0_10px_15px_-3px_rgba(0,0,0,0.3),0_4px_6px_-2px_rgba(0,0,0,0.2)];
}

/* ======  BLOCS DE CITATION  ==================================== */

blockquote p {
  margin: 0.5em 0;
  line-height: 1.6;
}

blockquote p + p {
  margin-top: 0.5em;
}

.theme-doc-markdown .tip {
  @apply bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-500 p-4 my-4 rounded-r-sm;
}

.theme-doc-markdown .tip p {
  @apply m-0 text-blue-800 dark:text-blue-200;
}

.theme-doc-markdown .tip p:not(:last-child) {
  @apply mb-2;
}

.theme-doc-markdown .tip p:before {
  content: "ðŸ’¡ ";
  @apply mr-1;
}

/* ======  NAVBAR  =============================================== */

.navbar .navbar__item--documentation {
  margin-left: -1.5rem;
  font-weight: 500;
}

/* ======  BOUTONS  ============================================== */

.button--primary {
  @apply bg-iso-s text-iso-p font-semibold
         hover:bg-iso-s/90 active:translate-y-px;
}

/* ======  DARK MODE GLOBAL  ===================================== */

[data-theme="dark"] body,
[data-theme="dark"] .main-wrapper,
[data-theme="dark"] .navbar,
[data-theme="dark"] .footer,
[data-theme="dark"] .menu,
[data-theme="dark"] .docPage,
[data-theme="dark"] .docMainContainer,
[data-theme="dark"] .prism-code {
  background-color: var(--color-iso-p) !important;
}

[data-theme="dark"] .title_kItE,
[data-theme="dark"] .theme-doc-markdown h1:first-child,
[data-theme="dark"] .theme-doc-markdown h2:first-of-type,
[data-theme="dark"] .markdown h1,
[data-theme="dark"] .markdown h2,
[data-theme="dark"] .markdown h3 {
  @apply text-white;
}

[data-theme="dark"] .card {
  @apply bg-slate-900 border-slate-800;
}

[data-theme="dark"] .card:hover {
  @apply bg-slate-800 border-iso-s;
}

/* ======  RESPONSIVE  =========================================== */

@media (max-width: 996px) {
  .menu__list .menu__list {
    @apply ml-4; /* RÃ©duire l'indentation sur mobile */
  }

  .menu__link {
    @apply text-sm;
  }
}
